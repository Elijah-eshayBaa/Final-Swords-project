[gd_scene load_steps=31 format=3 uid="uid://ndg5esktgibo"]

[ext_resource type="Texture2D" uid="uid://8gnlse0exi3c" path="res://Scenes/characters/SlimeAssets/SlimeAssets/Assets/DeathSpritesheet.png" id="1_huw4p"]
[ext_resource type="Script" path="res://Scripts/enemy.gd" id="1_jx276"]
[ext_resource type="Texture2D" uid="uid://bv4dmg4gjx42t" path="res://Scenes/characters/SlimeAssets/SlimeAssets/Assets/BouncingSpritesheet.png" id="2_dxn2v"]
[ext_resource type="Texture2D" uid="uid://d2thqm0hd5awf" path="res://Scenes/characters/SlimeAssets/SlimeAssets/Assets/IdleSpritesheet.png" id="3_xrit0"]
[ext_resource type="AudioStream" uid="uid://b11bs8gisvi46" path="res://slimejump-6913.mp3" id="5_g2mhv"]

[sub_resource type="AtlasTexture" id="AtlasTexture_nbr72"]
atlas = ExtResource("1_huw4p")
region = Rect2(0, 0, 20, 20)

[sub_resource type="AtlasTexture" id="AtlasTexture_054ri"]
atlas = ExtResource("1_huw4p")
region = Rect2(20, 0, 20, 20)

[sub_resource type="AtlasTexture" id="AtlasTexture_v4538"]
atlas = ExtResource("1_huw4p")
region = Rect2(40, 0, 20, 20)

[sub_resource type="AtlasTexture" id="AtlasTexture_sd48y"]
atlas = ExtResource("1_huw4p")
region = Rect2(0, 20, 20, 20)

[sub_resource type="AtlasTexture" id="AtlasTexture_ty4me"]
atlas = ExtResource("1_huw4p")
region = Rect2(20, 20, 20, 20)

[sub_resource type="AtlasTexture" id="AtlasTexture_mufbv"]
atlas = ExtResource("1_huw4p")
region = Rect2(40, 20, 20, 20)

[sub_resource type="AtlasTexture" id="AtlasTexture_ysqo7"]
atlas = ExtResource("1_huw4p")
region = Rect2(0, 40, 20, 20)

[sub_resource type="AtlasTexture" id="AtlasTexture_6msh1"]
atlas = ExtResource("2_dxn2v")
region = Rect2(0, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_q7pno"]
atlas = ExtResource("2_dxn2v")
region = Rect2(16, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_4xmlx"]
atlas = ExtResource("2_dxn2v")
region = Rect2(32, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_siohw"]
atlas = ExtResource("3_xrit0")
region = Rect2(0, 32, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_bkpd3"]
atlas = ExtResource("3_xrit0")
region = Rect2(16, 32, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_poyn0"]
atlas = ExtResource("2_dxn2v")
region = Rect2(0, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_b8peb"]
atlas = ExtResource("2_dxn2v")
region = Rect2(16, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_l3rrj"]
atlas = ExtResource("2_dxn2v")
region = Rect2(32, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_umhl3"]
atlas = ExtResource("2_dxn2v")
region = Rect2(0, 16, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_w3bmm"]
atlas = ExtResource("2_dxn2v")
region = Rect2(16, 16, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_a6spl"]
atlas = ExtResource("2_dxn2v")
region = Rect2(32, 16, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_mqoyy"]
atlas = ExtResource("2_dxn2v")
region = Rect2(0, 32, 16, 16)

[sub_resource type="SpriteFrames" id="SpriteFrames_2frlx"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_nbr72")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_054ri")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_v4538")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sd48y")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ty4me")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mufbv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ysqo7")
}],
"loop": true,
"name": &"death",
"speed": 18.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_6msh1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_q7pno")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4xmlx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_siohw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bkpd3")
}],
"loop": true,
"name": &"idle",
"speed": 6.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_poyn0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b8peb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_l3rrj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_umhl3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_w3bmm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a6spl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mqoyy")
}],
"loop": true,
"name": &"walk",
"speed": 7.0
}]

[sub_resource type="CircleShape2D" id="CircleShape2D_losge"]
radius = 57.0088

[sub_resource type="CircleShape2D" id="CircleShape2D_o6gnx"]
radius = 5.0

[sub_resource type="CircleShape2D" id="CircleShape2D_plffx"]
radius = 11.1803

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_df2uw"]
bg_color = Color(0.799934, 0, 0.073704, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_tcc43"]
bg_color = Color(0, 0.531433, 0.199578, 1)

[node name="enemy" type="CharacterBody2D"]
script = ExtResource("1_jx276")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_2frlx")
animation = &"walk"
frame_progress = 0.470832

[node name="detection_area" type="Area2D" parent="."]
collision_layer = 2
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="detection_area"]
shape = SubResource("CircleShape2D_losge")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, 1)
shape = SubResource("CircleShape2D_o6gnx")

[node name="enemy_hitbox" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="enemy_hitbox"]
position = Vector2(0, 1)
shape = SubResource("CircleShape2D_plffx")

[node name="take_damage_cooldown" type="Timer" parent="."]

[node name="slimesound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("5_g2mhv")
autoplay = true

[node name="healthbar" type="ProgressBar" parent="."]
offset_left = -9.0
offset_top = -9.0
offset_right = 10.0
offset_bottom = -5.0
theme_override_styles/background = SubResource("StyleBoxFlat_df2uw")
theme_override_styles/fill = SubResource("StyleBoxFlat_tcc43")
max_value = 60.0
value = 28.29
show_percentage = false

[connection signal="body_entered" from="detection_area" to="." method="_on_detection_area_body_entered"]
[connection signal="body_exited" from="detection_area" to="." method="_on_detection_area_body_exited"]
[connection signal="body_entered" from="enemy_hitbox" to="." method="_on_enemy_hitbox_body_entered"]
[connection signal="body_exited" from="enemy_hitbox" to="." method="_on_enemy_hitbox_body_exited"]
[connection signal="timeout" from="take_damage_cooldown" to="." method="_on_take_damage_cooldown_timeout"]
